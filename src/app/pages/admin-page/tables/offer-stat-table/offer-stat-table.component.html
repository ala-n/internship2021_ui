<mat-spinner class="table__spinner" *ngIf="isLoading"></mat-spinner>

<<<<<<< HEAD
<div class="table mat-elevation-z8" [class.table_hidden]="isLoading">
  =======
  <div class="table mat-elevation-z8">
    >>>>>>> develop
    <div class="table__header">
      <mat-form-field class="table__search" appearance="outline">
        <mat-label>{{ 'search' | translate }}</mat-label>
        <input matInput (keyup)="applyFilter(input.value, 'name')" #input />
      </mat-form-field>
      <mat-button-toggle-group
        #group="matButtonToggleGroup"
        class="table__filter"
        value=""
        aria-label="Filter Offers"
        (click)="applyFilter(group.value, 'isActive')"
      >
        <mat-button-toggle value="">{{ 'all' | translate }}</mat-button-toggle>
        <mat-button-toggle value="true">{{
          'active' | translate
        }}</mat-button-toggle>
        <mat-button-toggle value="false">{{
          'inactive' | translate
        }}</mat-button-toggle>
      </mat-button-toggle-group>
    </div>
    <div class="table__body">
      <table
        class="full-width-table"
        mat-table
        matSort
        matSortActive="updatedAt"
        matSortDirection="desc"
        [dataSource]="dataSource"
      >
        <ng-container matColumnDef="number">
          <th mat-header-cell class="text" *matHeaderCellDef>â„–</th>
          <td mat-cell *matCellDef="let offer; let i = index">
            {{ i + 1 + this.paginator.pageIndex * this.paginator.pageSize }}
          </td>
        </ng-container>

        <ng-container matColumnDef="vendorName">
          <th
            mat-header-cell
            class="text text_upper"
            *matHeaderCellDef
            mat-sort-header
          >
            {{ 'brand' | translate }}
          </th>
          <td mat-cell *matCellDef="let offer">{{ offer.vendorName }}</td>
        </ng-container>

        <ng-container matColumnDef="title">
          <th
            mat-header-cell
            class="text text_upper"
            *matHeaderCellDef
            mat-sort-header
          >
            {{ 'title' | translate }}
          </th>
          <td mat-cell *matCellDef="let offer">
            {{ offer.title | truncate: 20 }}
          </td>
        </ng-container>

        <ng-container matColumnDef="rating">
          <th
            mat-header-cell
            class="text text_upper"
            *matHeaderCellDef
            mat-sort-header
          >
            {{ 'rating' | translate }}
          </th>
          <td mat-cell *matCellDef="let offer">{{ offer.rating }}</td>
        </ng-container>

        <ng-container matColumnDef="numberOfViews">
          <th
            mat-header-cell
            class="text text_upper"
            *matHeaderCellDef
            mat-sort-header
          >
            {{ 'views' | translate }}
          </th>
          <td mat-cell *matCellDef="let offer">{{ offer.numberOfViews }}</td>
        </ng-container>

        <ng-container matColumnDef="numberOfUses">
          <th
            mat-header-cell
            class="text text_upper"
            *matHeaderCellDef
            mat-sort-header
          >
            {{ 'orders' | translate }}
          </th>
          <td mat-cell *matCellDef="let offer">{{ offer.numberOfUses }}</td>
        </ng-container>

        <ng-container matColumnDef="createdAt">
          <th
            mat-header-cell
            class="text text_upper"
            *matHeaderCellDef
            mat-sort-header
          >
            {{ 'created' | translate }}
          </th>
          <td mat-cell *matCellDef="let offer">
            {{ offer.createdAt | date: 'dd.MM.yyyy' }}
          </td>
        </ng-container>

        <ng-container matColumnDef="createdBy">
          <th
            mat-header-cell
            class="text text_upper"
            *matHeaderCellDef
            mat-sort-header
          >
            {{ 'created-by' | translate }}
          </th>
          <td mat-cell *matCellDef="let offer">{{ offer.createdBy }}</td>
        </ng-container>

        <ng-container matColumnDef="updatedAt">
          <th
            mat-header-cell
            class="text text_upper"
            *matHeaderCellDef
            mat-sort-header
          >
            {{ 'updated' | translate }}
          </th>
          <td mat-cell *matCellDef="let offer">
            {{ offer.updatedAt | date: 'dd.MM.yyyy' }}
          </td>
        </ng-container>

        <ng-container matColumnDef="updatedBy">
          <th
            mat-header-cell
            class="text text_upper"
            *matHeaderCellDef
            mat-sort-header
          >
            {{ 'updated-by' | translate }}
          </th>
          <td mat-cell *matCellDef="let offer">{{ offer.updatedBy }}</td>
        </ng-container>

        <tr
          mat-header-row
          *matHeaderRowDef="displayedColumns; sticky: true"
        ></tr>
        <tr mat-row *matRowDef="let offer; columns: displayedColumns"></tr>

        <tr class="mat-row" *matNoDataoffer>
          <td class="mat-cell" colspan="4">
            {{ 'no_results_matching' | translate }} "{{ input.value }}"
          </td>
        </tr>
      </table>
    </div>
    <div class="table__footer">
      <mat-paginator
        class="table__paginator"
        #paginator
        [length]="dataSource.data.length"
        [pageIndex]="0"
        [pageSize]="10"
        [pageSizeOptions]="[5, 10, 25, 100]"
      >
      </mat-paginator>
    </div>
  </div>
</div>
